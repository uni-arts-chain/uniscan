<div class="token col-sm-6 col-md-3 col-lg-2">
  <div class="card px-0 py-0 <%= bg_of_blockchain(token) %>">

    <div class="position-relative">
      <%= link_to url_for(token_path(token)), class: "" do %>
        <%# <img src="<%= image_path("logo-uniscan.png") %1>" data-src="<%= token_image(token) %1>" alt="<%= token.name.nil? ? '' : token.name %1>" style="width: 100%" class="nft-img" /> %>
        <img loading="lazy" src="<%= token_image(token) %>" alt="<%= token.name.nil? ? '' : token.name %>" style="width: 100%" class="nft-img" />
      <% end %>

      <% if token.ipfs? %>
        <span class="badge position-absolute bottom-0 end-0" style="background-color: #6acad1">
          IPFS
        </span>
        <span class="badge <%= token.nft_type == "erc721" ? "bg-dark" : "bg-light text-dark" %> position-absolute bottom-0 end-0" style="right: 43px !important;">
          <%= token.nft_type %>
        </span>
      <% else %>
        <span class="badge <%= token.nft_type == "erc721" ? "bg-dark" : "bg-light text-dark" %> position-absolute bottom-0 end-0" >
          <%= token.nft_type %>
        </span>
      <% end %>
    </div>

    <div class="card-body px-2 py-1">

      <div class="text-truncate small py-1">
        <%= link_to url_for(token_path(token)) do %>
          <%= token.name.nil? ? '_' : token.name %>
        <% end %>
      </div>

      <div class="text-truncate py-1" style="font-size: 0.7rem;">
        <%= image_tag("#{token.blockchain.name.downcase}.png", size: "16x16", class: "rounded-circle") %>
        <span class="small align-bottom">
          <% if token.owners.length == 1 %>
            <%= link_to account_path(token.owners[0]) do %>
              <%= short_address(token.owner.address) %>
            <% end %>
          <% elsif token.owners.length > 1 %>
            owned by <%= token.owners.length %> addresses
          <% else %>
              -
          <% end %>
        </span>
      </div>

      <div class="text-truncate py-1" style="font-size: 0.7rem;">
        <span class="small align-bottom">
          #<%= token.token_id_on_chain %>
        </span>
      </div>

      <div class="text-truncate py-1" style="font-size: 0.7rem;">
        <span class="small align-bottom">
          <%= link_to token.collection.name, url_for(token.collection) %>
        </span>
      </div>
    </div>
  </div>
</div>
