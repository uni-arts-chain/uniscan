<div class="px-4 pt-4 text-center">
  <div class="container">
    <div class="row justify-content-md-center">
      <div class="col col-lg-7 position-relative">
        <img src="<%= @token.image %>" class="img-fluid border rounded-3 shadow-lg" style="width: 100%" />
        <% if @token.ipfs? %>
          <span class="badge position-absolute bottom-0 end-0" style="right: 13px !important;background-color: #6acad1">
            IPFS
          </span>
          <span class="badge <%= @token.nft_type == "erc721" ? "bg-dark" : "bg-light text-dark" %> position-absolute bottom-0 end-0" style="right: 56px !important;">
            <%= @token.nft_type %>
          </span>
        <% else %>
          <span class="badge <%= @token.nft_type == "erc721" ? "bg-dark" : "bg-light text-dark" %> position-absolute bottom-0 end-0">
            <%= @token.nft_type %>
          </span>
        <% end %>
      </div>
  </div>

  <h1 class="display-4 fw-bold mt-5"><%= @token.name %></h1>
  <div class="col-lg-6 mx-auto">
    <p class="lead mb-4"><%= @token.description %></p>
  </div>

  <% if @token.nft_type == "erc721" %>
    <div class="col-lg-6 mx-auto">
      <h2 class="text-start">ERC721</h2>
      <div class="text-muted mb-2 text-start"><strong>Owner</strong></div>
      <div class="text-muted mb-2 text-start"><%= @token.owner&.address %></div>
      <div class="text-muted mb-2 text-start">It owns <%= @token.owner&.tokens&.count %> NFTs</div>
      <div class="text-muted mb-2 text-start"><strong>Historically owned by</strong></div>
      <div class="text-muted mb-2 text-start"><%= pluralize(@token.historical_owners_count, 'address') %></div>
    </div>
  <% else %>
    <div class="col-lg-6 mx-auto">
      <h2 class="text-start">ERC1155</h2>
      <div class="text-muted mb-2 text-start"><strong>Supply</strong></div>
      <div class="text-muted mb-2 text-start"><%= @token.supply.nil? ? "-" : @token.supply %></div>
      <div class="text-muted mb-2 text-start"><strong>Owner</strong></div>
      <div class="text-muted mb-2 text-start">Owned by <%= @token.accounts.length %> addresses</div>
      <div class="text-muted mb-2 text-start"><strong>Historically owned by</strong></div>
      <div class="text-muted mb-2 text-start"><%= @token.historical_owners_count %></div>
    </div>
  <% end %>

  <div class="col-lg-6 mx-auto">
    <h2 class="text-start">Storage links</h2>
    <div class="text-muted mb-2 text-start"><strong>Metadata URI</strong></div>
    <div class="text-muted mb-2 text-start">
      <pre><%= @token.token_uri %></pre>
    </div>

    <div class="text-muted mb-2 text-start"><strong>Image</strong></div>
    <div class="text-muted mb-2 text-start">
      <pre><%= @token.image %></pre>
    </div>

  </div>

  <div class="col-lg-6 mx-auto">
    <h2 class="text-start">Properties</h2>
    
    <% @token.properties.each do |p| %>
      <div class="text-muted mb-2 text-start"><strong><%= p.name %></strong></div>
      <div class="text-muted mb-2 text-start">
        <pre><%= property_value(p.value) %></pre>
      </div>
    <% end %>

  </div>

</div>
